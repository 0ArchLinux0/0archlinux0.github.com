---
title: LeetCode. 40. Combination Sum II
author: MINJUN PARK
date: 2021-12-30 17:08:00 +0900
categories: [LeetCode, Java]
tags:
  [
    Java,
    Algorithm,
    Coding Interview,
    LeetCode,
    Combination Sum II
  ]
pin: false
---

![image](https://user-images.githubusercontent.com/55131164/147734584-e5f6fd53-2817-46bf-a04c-1cb6ef5af3b4.png)


[Link] <https://leetcode.com/problems/combination-sum-ii/>

<br>

```java
class Solution {
    public List<List<Integer>> combinationSum2(int[] candidates, int target) {
        List<List<Integer>> list = new LinkedList<>();
        HashMap<Integer, Integer> hm = new HashMap<>();
        for(int e: candidates){
            if(hm.containsKey(e)) hm.put(e, hm.get(e) + 1);
            else hm.put(e, 1);
        }
        List<HashMap.Entry<Integer, Integer>> entries = new ArrayList<>(hm.entrySet());
        entries.sort((l, r) -> l.getKey() - r.getKey());
        dfs(list, new ArrayList<Integer>(), entries, 0, target);
        return list;
    }
    
    public void dfs(List<List<Integer>> list, List<Integer> templist, List<HashMap.Entry<Integer, Integer>> entries, int idx, int left) {
        if(left == 0) {
            list.add(new ArrayList<>(templist));
            return;
        }
        for(int i = idx; i < entries.size(); i++) {
            Map.Entry<Integer, Integer> entry = entries.get(i);
            int val = entry.getKey();
            if(val <= left) {
                int loop = Math.min(left / val, entry.getValue());
                for(int j = 0; j < loop; j++) {
                    templist.add(val);
                    left -= val;
                    dfs(list, templist, entries, i + 1, left);
                }
                for(int j = 0; j < loop; j++) templist.remove(templist.size() - 1);
                left += val * loop;
            } else break;                 
        }
        
    }
  static <T> void print(T s) { System.out.print(s); }
	static <T> void println(T s) { System.out.println(s); }
}
```
